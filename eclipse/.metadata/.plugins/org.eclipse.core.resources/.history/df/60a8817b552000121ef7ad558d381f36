package net.minecraft.src;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.net.UnknownHostException;

import net.minecraft.client.Minecraft;

public class NetClientHandlerReplay extends NetClientHandler {

	private static final int MIN_ALLOWED_VERSION = 120;
	private static final int MAX_ALLOWED_VERSION = 121;
	
	private NBTTagCompound configTag;
	
	public NetClientHandlerReplay(Minecraft minecraft, File replayFolder) throws FileNotFoundException, IOException {
		super(minecraft);
		File replayConfig = new File(replayFolder, "replay.data");
		configTag = CompressedStreamTools.loadGzippedCompoundFromOutputStream(new FileInputStream(replayConfig));
		netManager = new NetworkManagerReplay(this, new File(replayFolder, "replay.raw"), configTag.getByte("Compression"), configTag.getByte("Type"));
	}
	
	@Override
	public void processReadPackets() {
		if(!disconnected) {
			netManager.processReadPackets();
		}
	}

}
