package net.minecraft.src;

import java.util.List;
import java.util.Locale;

public class ItemArmor extends ItemWearable {
	
	private final EnumArmorMaterial material;
	public final float damageReduceAmount;
	public final ItemStack toFix;

	public ItemArmor(int id, EnumArmorMaterial material, int texture, int slot, int toFix) {
		super(id, texture, slot);
		this.material = material;
		this.damageReduceAmount = material.damageReduction(slot);
		this.toFix = new ItemStack(toFix, 1, 0);
		setMaxDamage(material.durability(slot));
	}
	
	@Override
	public void appendDescription(ItemStack itemstack, List<String> list) {
		super.appendDescription(itemstack, list);
		StringBuilder sb = new StringBuilder();
		sb.append("\2477Броня (");
		switch(slot) {
		case 0:
			sb.append("голова");
			break;
		case 1:
			sb.append("тело");
			break;
		case 2:
			sb.append("штаны");
			break;
		case 3:
			sb.append("обувь");
			break;
		}
		sb.append(')');
		if(toFix != -1) {
			sb.append(". Чинится: ");
			sb.append(Item.itemsList[toFix].getTranslatedName);
		}
		list.add(sb.toString());
	}
	
	@Override
	public void appendAttributes(ItemStack itemstack, List<String> list) {
		super.appendAttributes(itemstack, list);
		list.add(String.format(Locale.US, "\2477Поглощение урона: \247f%.1f \2477/ \247f%.1f", (float) (itemstack.getMaxDamage() - itemstack.itemDamage) / (float) itemstack.getMaxDamage() * this.damageReduceAmount, this.damageReduceAmount).toString());
	}

}
